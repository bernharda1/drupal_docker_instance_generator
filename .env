# DEV (VPN-only)
# Projektpfad: /home/dev/projects/<project>
PROJECTNAME=infrasightsolutions
COMPOSER_PROJECT_NAME=infrasightsolutions/drupal
PROJECT_BASE_PATH=/home/dev/projects
COMPOSE_PROFILES=web-ols,db-mysql,cache-redis,phpmyadmin,tools
CONTAINER_PREFIX=infrasightsolutions_dev
TRAEFIK_PREFIX=infrasightsolutions-dev

STACK_ENV=dev
EDGE_NETWORK_NAME=dev_net
TRAEFIK_DOCKER_NETWORK=proxy

PUBLIC_DOMAIN=infrasight.projects.infrasight-solutions.com
TRAEFIK_ENABLE=true
TRAEFIK_ENTRYPOINT_WEB=web
TRAEFIK_ENTRYPOINT_WEBSECURE=websecure
TRAEFIK_CERTRESOLVER=le-dns
TRAEFIK_TLS_OPTIONS=default
TRAEFIK_SECURITY_MIDDLEWARES=dev-vpn-only@file

# Dynamic IPv6 by default in DEV
PUBLIC_BIND_ADDRESS=[::]
PUBLIC_BIND_ADDRESS_V4=127.0.0.1

# Reverse proxy upstream (nur relevant mit COMPOSE_PROFILES inkl. reverse-proxy)
UPSTREAM_HOST=web-openlitespeed
UPSTREAM_PORT=8080
REVERSE_PROXY_HOST_PORT=8088
VARNISH_HOST_PORT=6081

# Database / cache
DRUPAL_DB_DRIVER=mysql
DRUPAL_DB_HOST=db-mysql
DRUPAL_DB_PORT=3306
DRUPAL_DB_NAME=infrasightdb01
DRUPAL_DB_USER=infrasightdbuser
DRUPAL_DB_PASSWORD=5rdr56t78998uhg
DRUPAL_REDIS_HOST=redis

MYSQL_ROOT_PASSWORD=root
MYSQL_DATABASE=infrasightdb01
MYSQL_USER=infrasightdbuser
MYSQL_PASSWORD=5rdr56t78998uhg

# Optional tools
PMA_HOST=db-mysql
PMA_PORT=3306
PMA_USER=root
PMA_PASSWORD=root
PHPMYADMIN_HOST_PORT=8081
PHPMYADMIN_DOMAIN=phpmyadmin.infrasight.projects.infrasight-solutions.com

MAILPIT_SMTP_HOST_PORT=1025
MAILPIT_UI_HOST_PORT=8025
MAILPIT_DOMAIN=mailpit.infrasight.projects.infrasight-solutions.com

# Drupal host safety
# Optional überschreiben, falls mehrere Domains benötigt werden:
# DRUPAL_TRUSTED_HOST_PATTERNS=^localhost$,^127\\.0\\.0\\.1$,^infrasight\.projects\.infrasight-solutions\.com$

# Resource baseline
FPM_MEM_LIMIT=1024m
FPM_CPUS=1.00
WEB_NGINX_MEM_LIMIT=384m
WEB_NGINX_CPUS=0.50
REVERSE_PROXY_MEM_LIMIT=256m
REVERSE_PROXY_CPUS=0.30
MYSQL_MEM_LIMIT=1024m
MYSQL_CPUS=1.00
REDIS_MEM_LIMIT=256m
REDIS_CPUS=0.30
PHPMYADMIN_MEM_LIMIT=256m
PHPMYADMIN_CPUS=0.30
MAILPIT_MEM_LIMIT=256m
MAILPIT_CPUS=0.30
COMPOSER_MEM_LIMIT=768m
COMPOSER_CPUS=0.80
DRUSH_MEM_LIMIT=512m
DRUSH_CPUS=0.50
NODE_MEM_LIMIT=768m
NODE_CPUS=0.80
